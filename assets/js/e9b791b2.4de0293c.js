"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[614],{3905:function(a,e,t){t.d(e,{Zo:function(){return o},kt:function(){return u}});var n=t(7294);function s(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function r(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function m(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){s(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function i(a,e){if(null==a)return{};var t,n,s=function(a,e){if(null==a)return{};var t,n,s={},r=Object.keys(a);for(n=0;n<r.length;n++)t=r[n],e.indexOf(t)>=0||(s[t]=a[t]);return s}(a,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(n=0;n<r.length;n++)t=r[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(s[t]=a[t])}return s}var p=n.createContext({}),l=function(a){var e=n.useContext(p),t=e;return a&&(t="function"==typeof a?a(e):m(m({},e),a)),t},o=function(a){var e=l(a.components);return n.createElement(p.Provider,{value:e},a.children)},c={inlineCode:"code",wrapper:function(a){var e=a.children;return n.createElement(n.Fragment,{},e)}},N=n.forwardRef((function(a,e){var t=a.components,s=a.mdxType,r=a.originalType,p=a.parentName,o=i(a,["components","mdxType","originalType","parentName"]),N=l(t),u=s,k=N["".concat(p,".").concat(u)]||N[u]||c[u]||r;return t?n.createElement(k,m(m({ref:e},o),{},{components:t})):n.createElement(k,m({ref:e},o))}));function u(a,e){var t=arguments,s=e&&e.mdxType;if("string"==typeof a||s){var r=t.length,m=new Array(r);m[0]=N;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=a,i.mdxType="string"==typeof a?a:s,m[1]=i;for(var l=2;l<r;l++)m[l]=t[l];return n.createElement.apply(null,m)}return n.createElement.apply(null,t)}N.displayName="MDXCreateElement"},3875:function(a,e,t){t.r(e),t.d(e,{assets:function(){return o},contentTitle:function(){return p},default:function(){return u},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return c}});var n=t(7462),s=t(3366),r=(t(7294),t(3905)),m=["components"],i={id:"semantic-analysis",sidebar_position:0},p="Semantic Analysis",l={unversionedId:"semantic-analysis/semantic-analysis",id:"semantic-analysis/semantic-analysis",title:"Semantic Analysis",description:"- Semantics of a language is much more difficult to describe than syntax.",source:"@site/comp/semantic-analysis/00_semantic-analysis.md",sourceDirName:"semantic-analysis",slug:"/semantic-analysis/semantic-analysis",permalink:"/comp/semantic-analysis/semantic-analysis",draft:!1,editUrl:"https://github.com/lixk28/wiki/tree/main/comp/semantic-analysis/00_semantic-analysis.md",tags:[],version:"current",lastUpdatedBy:"snow",lastUpdatedAt:1652162832,formattedLastUpdatedAt:"5/10/2022",sidebarPosition:0,frontMatter:{id:"semantic-analysis",sidebar_position:0},sidebar:"tutorialSidebar",previous:{title:"Bottom-Up Parsing",permalink:"/comp/syntax-analysis/bottom-up-parsing"},next:{title:"Syntax-Directed Translation",permalink:"/comp/semantic-analysis/syntax-directed-translation"}},o={},c=[],N={toc:c};function u(a){var e=a.components,t=(0,s.Z)(a,m);return(0,r.kt)("wrapper",(0,n.Z)({},N,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"semantic-analysis"},"Semantic Analysis"),(0,r.kt)("div",{className:"admonition admonition-question"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zM6.92 6.085c.081-.16.19-.299.34-.398.145-.097.371-.187.74-.187.28 0 .553.087.738.225A.613.613 0 019 6.25c0 .177-.04.264-.077.318a.956.956 0 01-.277.245c-.076.051-.158.1-.258.161l-.007.004a7.728 7.728 0 00-.313.195 2.416 2.416 0 00-.692.661.75.75 0 001.248.832.956.956 0 01.276-.245 6.3 6.3 0 01.26-.16l.006-.004c.093-.057.204-.123.313-.195.222-.149.487-.355.692-.662.214-.32.329-.702.329-1.15 0-.76-.36-1.348-.863-1.725A2.76 2.76 0 008 4c-.631 0-1.155.16-1.572.438-.413.276-.68.638-.849.977a.75.75 0 101.342.67z"}))),"Why Semantic Analysis?")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Semantics of a language is much more difficult to describe than syntax.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Syntax describes the proper form of the programs (\u5f62\u5f0f)"),(0,r.kt)("li",{parentName:"ul"},"Semantics describes what the program means (\u610f\u4e49)"))),(0,r.kt)("li",{parentName:"ul"},"Context cannot be analyzed using a CFG parser.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"For instance, associating ids to objects require expressing the pattern:\n",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"{"),(0,r.kt)("mi",{parentName:"mrow"},"w"),(0,r.kt)("mi",{parentName:"mrow"},"c"),(0,r.kt)("mi",{parentName:"mrow"},"w"),(0,r.kt)("mo",{parentName:"mrow"},"\u2223"),(0,r.kt)("mi",{parentName:"mrow"},"w"),(0,r.kt)("mo",{parentName:"mrow"},"\u2208"),(0,r.kt)("mtext",{parentName:"mrow"},"id"),(0,r.kt)("mo",{parentName:"mrow",stretchy:"false"},"}")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\lbrace wcw \\mid w \\in \\text{id} \\rbrace")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mopen"},"{"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"c"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"\u2223"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.kt)("span",{parentName:"span",className:"mord text"},(0,r.kt)("span",{parentName:"span",className:"mord"},"id")),(0,r.kt)("span",{parentName:"span",className:"mclose"},"}"))))),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The first ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"w")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"w")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w")))))," represents the occurrence of an id in its definition"),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"c")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"c")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"c")))))," represents arbitary intervening code."),(0,r.kt)("li",{parentName:"ul"},"The second ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"w")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"w")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w")))))," represents the use of the previous defined id."))))),(0,r.kt)("li",{parentName:"ul"},"Deeper check into the source program.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Semantic analysis is the ",(0,r.kt)("u",null,"last stage")," of the front end. And, it's the compilers ",(0,r.kt)("u",null,"last chance")," to reject incorrect programs."),(0,r.kt)("li",{parentName:"ul"},"Verify some properties that aren't caught in earlier phases.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Variables are declared before used."),(0,r.kt)("li",{parentName:"ul"},"Type consistency when using ids."),(0,r.kt)("li",{parentName:"ul"},"Expressions have the right types."))))),(0,r.kt)("li",{parentName:"ul"},"Gather useful info about program for later phases.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Determine what variables are meant by each identifier."),(0,r.kt)("li",{parentName:"ul"},"Build an internal representation of inheritance hierarchies."),(0,r.kt)("li",{parentName:"ul"},"Count how many variables are in scope at each point.")))))),(0,r.kt)("p",null,"Implementation of semantic analysis:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Attribute grammars (\u5c5e\u6027\u6587\u6cd5)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"One-pass compilation, semantic analysis is done right in the process of parsing."),(0,r.kt)("li",{parentName:"ul"},"Augment rules to do checking during parsing."),(0,r.kt)("li",{parentName:"ul"},"Approach suggested in the compilers book."))),(0,r.kt)("li",{parentName:"ul"},"AST walk (\u8bed\u6cd5\u6811\u904d\u5386)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Two-pass compilation",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The first pass digests the syntax and builds a parse tree."),(0,r.kt)("li",{parentName:"ul"},"The second pass traverses the tree to verify that the program respects all semantic rules."))),(0,r.kt)("li",{parentName:"ul"},"Strict phase separation of syntax analysis and semantic analysis.")))))}u.isMDXComponent=!0}}]);